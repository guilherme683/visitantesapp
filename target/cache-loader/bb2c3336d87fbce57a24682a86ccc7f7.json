{"remainingRequest":"/home/guilhermeoliveira/visitantesapp/node_modules/thread-loader/dist/cjs.js??ref--10-2!/home/guilhermeoliveira/visitantesapp/node_modules/ts-loader/index.js??ref--10-3!/home/guilhermeoliveira/visitantesapp/node_modules/angular-router-loader/src/index.js!/home/guilhermeoliveira/visitantesapp/node_modules/tslint-loader/index.js!/home/guilhermeoliveira/visitantesapp/src/main/webapp/app/shared/login/login.component.ts","dependencies":[{"path":"/home/guilhermeoliveira/visitantesapp/src/main/webapp/app/shared/login/login.component.ts","mtime":1537910164367},{"path":"/home/guilhermeoliveira/visitantesapp/node_modules/angular2-template-loader/index.js","mtime":1535409413791},{"path":"/home/guilhermeoliveira/visitantesapp/node_modules/cache-loader/dist/cjs.js","mtime":1535409415912},{"path":"/home/guilhermeoliveira/visitantesapp/node_modules/thread-loader/dist/cjs.js","mtime":1535409422924},{"path":"/home/guilhermeoliveira/visitantesapp/node_modules/ts-loader/index.js","mtime":1535409423105},{"path":"/home/guilhermeoliveira/visitantesapp/node_modules/angular-router-loader/src/index.js","mtime":1535409413688},{"path":"/home/guilhermeoliveira/visitantesapp/node_modules/tslint-loader/index.js","mtime":1535409423169}],"contextDependencies":[],"result":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar core_1 = require(\"@angular/core\");\n// import { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\nvar router_1 = require(\"@angular/router\");\nvar ng_jhipster_1 = require(\"ng-jhipster\");\nvar login_service_1 = require(\"app/core/login/login.service\");\nvar state_storage_service_1 = require(\"app/core/auth/state-storage.service\");\nvar material_1 = require(\"@angular/material\");\nvar JhiLoginModalComponent = /** @class */ (function () {\n    function JhiLoginModalComponent(eventManager, loginService, stateStorageService, elementRef, renderer, router, \n    // public activeModal: NgbActiveModal,\n    dialog, dialogRef, data) {\n        this.eventManager = eventManager;\n        this.loginService = loginService;\n        this.stateStorageService = stateStorageService;\n        this.elementRef = elementRef;\n        this.renderer = renderer;\n        this.router = router;\n        this.dialog = dialog;\n        this.dialogRef = dialogRef;\n        this.data = data;\n        this.credentials = {};\n    }\n    JhiLoginModalComponent.prototype.ngAfterViewInit = function () {\n        // Estava dando erro de rederer is null\n        // setTimeout(() => this.renderer.invokeElementMethod(this.elementRef.nativeElement.querySelector('#username'), 'focus', []), 0);\n    };\n    JhiLoginModalComponent.prototype.cancel = function () {\n        this.credentials = {\n            username: null,\n            password: null,\n            rememberMe: true\n        };\n        this.authenticationError = false;\n        // this.activeModal.dismiss('cancel');\n    };\n    JhiLoginModalComponent.prototype.login = function () {\n        var _this = this;\n        this.loginService\n            .login({\n            username: this.username,\n            password: this.password,\n            rememberMe: this.rememberMe\n        })\n            .then(function () {\n            _this.authenticationError = false;\n            // this.activeModal.dismiss('login success');\n            if (_this.router.url === '/register' || /^\\/activate\\//.test(_this.router.url) || /^\\/reset\\//.test(_this.router.url)) {\n                _this.router.navigate(['']);\n            }\n            _this.eventManager.broadcast({\n                name: 'authenticationSuccess',\n                content: 'Sending Authentication Success'\n            });\n            // // previousState was set in the authExpiredInterceptor before being redirected to login modal.\n            // // since login is succesful, go to stored previousState and clear previousState\n            var redirect = _this.stateStorageService.getUrl();\n            if (redirect) {\n                _this.stateStorageService.storeUrl(null);\n                _this.router.navigate([redirect]);\n            }\n            _this.closeDialog();\n        })\n            .catch(function () {\n            _this.authenticationError = true;\n        });\n    };\n    JhiLoginModalComponent.prototype.closeDialog = function () {\n        this.dialogRef.close();\n    };\n    JhiLoginModalComponent.prototype.register = function () {\n        // this.activeModal.dismiss('to state register');\n        this.router.navigate(['/register']);\n    };\n    JhiLoginModalComponent.prototype.requestResetPassword = function () {\n        // this.activeModal.dismiss('to state requestReset');\n        this.router.navigate(['/reset', 'request']);\n        this.dialogRef.close();\n    };\n    JhiLoginModalComponent = tslib_1.__decorate([\n        core_1.Component({\n            selector: 'jhi-login-modal',\n            templateUrl: './login.component.html'\n        }),\n        tslib_1.__param(8, core_1.Inject(material_1.MAT_DIALOG_DATA)),\n        tslib_1.__metadata(\"design:paramtypes\", [typeof (_a = typeof ng_jhipster_1.JhiEventManager !== \"undefined\" && ng_jhipster_1.JhiEventManager) === \"function\" && _a || Object, typeof (_b = typeof login_service_1.LoginService !== \"undefined\" && login_service_1.LoginService) === \"function\" && _b || Object, typeof (_c = typeof state_storage_service_1.StateStorageService !== \"undefined\" && state_storage_service_1.StateStorageService) === \"function\" && _c || Object, typeof (_d = typeof core_1.ElementRef !== \"undefined\" && core_1.ElementRef) === \"function\" && _d || Object, typeof (_e = typeof core_1.Renderer !== \"undefined\" && core_1.Renderer) === \"function\" && _e || Object, typeof (_f = typeof router_1.Router !== \"undefined\" && router_1.Router) === \"function\" && _f || Object, typeof (_g = typeof material_1.MatDialog !== \"undefined\" && material_1.MatDialog) === \"function\" && _g || Object, typeof (_h = typeof material_1.MatDialogRef !== \"undefined\" && material_1.MatDialogRef) === \"function\" && _h || Object, Object])\n    ], JhiLoginModalComponent);\n    return JhiLoginModalComponent;\n    var _a, _b, _c, _d, _e, _f, _g, _h;\n}());\nexports.JhiLoginModalComponent = JhiLoginModalComponent;\n",{"version":3,"file":"/home/guilhermeoliveira/visitantesapp/src/main/webapp/app/shared/login/login.component.ts","sourceRoot":"","sources":["/home/guilhermeoliveira/visitantesapp/node_modules/angular-router-loader/src/index.js!/home/guilhermeoliveira/visitantesapp/node_modules/tslint-loader/index.js!/home/guilhermeoliveira/visitantesapp/src/main/webapp/app/shared/login/login.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, AfterViewInit, Renderer, ElementRef, Inject } from '@angular/core';\n// import { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\nimport { Router } from '@angular/router';\nimport { JhiEventManager } from 'ng-jhipster';\n\nimport { LoginService } from 'app/core/login/login.service';\nimport { StateStorageService } from 'app/core/auth/state-storage.service';\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\n\n@Component({\n    selector: 'jhi-login-modal',\n    templateUrl: './login.component.html'\n})\nexport class JhiLoginModalComponent implements AfterViewInit {\n    authenticationError: boolean;\n    password: string;\n    rememberMe: boolean;\n    username: string;\n    credentials: any;\n\n    constructor(\n        private eventManager: JhiEventManager,\n        private loginService: LoginService,\n        private stateStorageService: StateStorageService,\n        private elementRef: ElementRef,\n        private renderer: Renderer,\n        private router: Router,\n        // public activeModal: NgbActiveModal,\n        public dialog: MatDialog,\n        public dialogRef: MatDialogRef<JhiLoginModalComponent>,\n        @Inject(MAT_DIALOG_DATA) public data: any\n    ) {\n        this.credentials = {};\n    }\n\n    ngAfterViewInit() {\n        // Estava dando erro de rederer is null\n        // setTimeout(() => this.renderer.invokeElementMethod(this.elementRef.nativeElement.querySelector('#username'), 'focus', []), 0);\n\n    }\n\n    cancel() {\n        this.credentials = {\n            username: null,\n            password: null,\n            rememberMe: true\n        };\n        this.authenticationError = false;\n        // this.activeModal.dismiss('cancel');\n    }\n\n    login() {\n        this.loginService\n            .login({\n                username: this.username,\n                password: this.password,\n                rememberMe: this.rememberMe\n            })\n            .then(() => {\n                this.authenticationError = false;\n                // this.activeModal.dismiss('login success');\n                if (this.router.url === '/register' || /^\\/activate\\//.test(this.router.url) || /^\\/reset\\//.test(this.router.url)) {\n                    this.router.navigate(['']);\n                }\n\n                this.eventManager.broadcast({\n                    name: 'authenticationSuccess',\n                    content: 'Sending Authentication Success'\n                });\n\n                // // previousState was set in the authExpiredInterceptor before being redirected to login modal.\n                // // since login is succesful, go to stored previousState and clear previousState\n                const redirect = this.stateStorageService.getUrl();\n                if (redirect) {\n                    this.stateStorageService.storeUrl(null);\n                    this.router.navigate([redirect]);\n                }\n                this.closeDialog();\n            })\n            .catch(() => {\n                this.authenticationError = true;\n            });\n    }\n\n    public closeDialog() {\n        this.dialogRef.close();\n\n    }\n\n    register() {\n        // this.activeModal.dismiss('to state register');\n        this.router.navigate(['/register']);\n    }\n\n    requestResetPassword() {\n        // this.activeModal.dismiss('to state requestReset');\n        this.router.navigate(['/reset', 'request']);\n        this.dialogRef.close();\n    }\n}\n"]}]}